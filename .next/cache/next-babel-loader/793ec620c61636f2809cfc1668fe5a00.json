{"ast":null,"code":"var _jsxFileName = \"/Users/jaydesai1/bulletproof-next-app/pages/post/[slug].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Theme from '../../components/Theme';\nimport ms from 'ms';\nimport Markdown from 'markdown-to-jsx';\nimport Youtube from '../../components/Youtube';\nimport { getPostList, getPost } from '../../lib/data';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nexport default function Post({\n  post\n}) {\n  const router = useRouter();\n\n  if (router.isFallback) {\n    return __jsx(Theme, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 7\n      }\n    }, \"loading...\");\n  }\n\n  if (!post) {\n    return __jsx(Theme, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }\n    }, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }, __jsx(\"meta\", {\n      name: \"robots\",\n      content: \"noindex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }\n    })), \"404 - Page not found!\");\n  }\n\n  return __jsx(Theme, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Published \", ms(Date.now() - post.createdAt, {\n    long: true\n  }), \" ago\"), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, post.title), __jsx(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, __jsx(Markdown, {\n    options: {\n      overrides: {\n        Youtube: {\n          component: Youtube\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, post.content))));\n}\nexport async function getStaticPaths() {\n  const postList = await getPostList();\n  const paths = postList.map(post => ({\n    params: {\n      slug: post.slug\n    }\n  }));\n  return {\n    paths,\n    fallback: true\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  let post = null;\n\n  try {\n    post = await getPost(params.slug);\n  } catch (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n  }\n\n  return {\n    props: {\n      post\n    },\n    revalidate: 2\n  };\n}","map":{"version":3,"sources":["/Users/jaydesai1/bulletproof-next-app/pages/post/[slug].js"],"names":["Theme","ms","Markdown","Youtube","getPostList","getPost","useRouter","Head","Post","post","router","isFallback","Date","now","createdAt","long","title","overrides","component","content","getStaticPaths","postList","paths","map","params","slug","fallback","getStaticProps","err","status","props","revalidate"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,wBAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SAASC,WAAT,EAAsBC,OAAtB,QAAqC,gBAArC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,eAAe,SAASC,IAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAAyB;AACtC,QAAMC,MAAM,GAAGJ,SAAS,EAAxB;;AACA,MAAII,MAAM,CAACC,UAAX,EAAuB;AACrB,WACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF;AAKD;;AAED,MAAI,CAACF,IAAL,EAAW;AACT,WACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,IAAI,EAAC,QAAX;AAAoB,MAAA,OAAO,EAAC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,0BADF;AAQD;;AAED,SACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAiCR,EAAE,CAACW,IAAI,CAACC,GAAL,KAAaJ,IAAI,CAACK,SAAnB,EAA8B;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAA9B,CAAnC,SADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKN,IAAI,CAACO,KAAV,CAFF,EAGE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AACE,IAAA,OAAO,EAAE;AACPC,MAAAA,SAAS,EAAE;AACTd,QAAAA,OAAO,EAAE;AAAEe,UAAAA,SAAS,EAAEf;AAAb;AADA;AADJ,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOGM,IAAI,CAACU,OAPR,CADF,CAHF,CADF,CADF;AAmBD;AAED,OAAO,eAAeC,cAAf,GAAgC;AACrC,QAAMC,QAAQ,GAAG,MAAMjB,WAAW,EAAlC;AACA,QAAMkB,KAAK,GAAGD,QAAQ,CAACE,GAAT,CAAad,IAAI,KAAK;AAClCe,IAAAA,MAAM,EAAE;AACNC,MAAAA,IAAI,EAAEhB,IAAI,CAACgB;AADL;AAD0B,GAAL,CAAjB,CAAd;AAMA,SAAO;AACLH,IAAAA,KADK;AAELI,IAAAA,QAAQ,EAAE;AAFL,GAAP;AAID;AAGD,OAAO,eAAeC,cAAf,CAA+B;AAAEH,EAAAA;AAAF,CAA/B,EAA2C;AAChD,MAAIf,IAAI,GAAG,IAAX;;AAEA,MAAI;AACFA,IAAAA,IAAI,GAAG,MAAMJ,OAAO,CAACmB,MAAM,CAACC,IAAR,CAApB;AACD,GAFD,CAEE,OAAOG,GAAP,EAAY;AACZ,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,YAAMD,GAAN;AACD;AACF;;AAED,SAAO;AACLE,IAAAA,KAAK,EAAE;AACLrB,MAAAA;AADK,KADF;AAILsB,IAAAA,UAAU,EAAE;AAJP,GAAP;AAMD","sourcesContent":["import Theme from '../../components/Theme'\nimport ms from 'ms'\nimport Markdown from 'markdown-to-jsx'\nimport Youtube from '../../components/Youtube'\nimport { getPostList, getPost } from '../../lib/data'\nimport { useRouter } from 'next/router'\nimport Head from 'next/head'\n\nexport default function Post ({ post }) {\n  const router = useRouter()\n  if (router.isFallback) {\n    return (\n      <Theme>\n        loading...\n      </Theme>\n    )\n  }\n\n  if (!post) {\n    return (\n      <Theme>\n        <Head>\n          <meta name=\"robots\" content=\"noindex\" />\n        </Head>\n        404 - Page not found!\n      </Theme>\n    )\n  }\n\n  return (\n    <Theme>\n      <div className='post'>\n        <div className='time'>Published {ms(Date.now() - post.createdAt, { long: true })} ago</div>\n        <h1>{post.title}</h1>\n        <div className='content'>\n          <Markdown\n            options={{\n              overrides: {\n                Youtube: { component: Youtube }\n              }\n            }}\n          >\n            {post.content}\n          </Markdown>\n        </div>\n      </div>\n    </Theme>\n  )\n}\n\nexport async function getStaticPaths() {\n  const postList = await getPostList()\n  const paths = postList.map(post => ({\n    params: {\n      slug: post.slug\n    }\n  }))\n\n  return {\n    paths,\n    fallback: true\n  }\n}\n\n\nexport async function getStaticProps ({ params }) {\n  let post = null\n\n  try {\n    post = await getPost(params.slug)\n  } catch (err) {\n    if (err.status !== 404) {\n      throw err\n    }\n  }\n\n  return {\n    props: {\n      post\n    },\n    revalidate: 2\n  }\n}"]},"metadata":{},"sourceType":"module"}