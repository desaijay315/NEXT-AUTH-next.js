{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Theme from '../../components/Theme';\nimport ms from 'ms';\nimport Markdown from 'markdown-to-jsx';\nimport Youtube from '../../components/Youtube';\nimport { getPostList, getPost } from '../../lib/data';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nexport default function Post({\n  post\n}) {\n  const router = useRouter();\n\n  if (router.isFallback) {\n    return __jsx(Theme, null, \"loading...\");\n  }\n\n  if (!post) {\n    return __jsx(Theme, null, __jsx(Head, null, __jsx(\"meta\", {\n      name: \"robots\",\n      content: \"noindex\"\n    })), \"404 - Page not found!\");\n  }\n\n  return __jsx(Theme, null, __jsx(\"div\", {\n    className: \"post\"\n  }, __jsx(\"div\", {\n    className: \"time\"\n  }, \"Published \", ms(Date.now() - post.createdAt, {\n    long: true\n  }), \" ago\"), __jsx(\"h1\", null, post.title), __jsx(\"div\", {\n    className: \"content\"\n  }, __jsx(Markdown, {\n    options: {\n      overrides: {\n        Youtube: {\n          component: Youtube\n        }\n      }\n    }\n  }, post.content))));\n}\nexport async function getStaticPaths() {\n  const postList = await getPostList();\n  const paths = postList.map(post => ({\n    params: {\n      slug: post.slug\n    }\n  }));\n  return {\n    paths,\n    fallback: true\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  let post = null;\n\n  try {\n    post = await getPost(params.slug);\n  } catch (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n  }\n\n  return {\n    props: {\n      post\n    },\n    revalidate: 2\n  };\n}","map":null,"metadata":{},"sourceType":"module"}